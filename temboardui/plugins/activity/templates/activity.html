{% extends ../../../templates/base.html %}

{% block title %}[{{instance.hostname}}:{{instance.pg_port}}] - Activity{% end %}
{% block title %}[{{instance.hostname}}:{{instance.pg_port}}] - Activity / {% if mode == 'waiting' %}Waiting{% elif mode == 'blocking' %}Blocking{% elif mode == 'running' %}Running{% end %} queries{% end %}

{% block content %}
<div class="modal fade" id="Modal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="ModalLabel"></h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body" id="ModalInfo">
      </div>
      <div class="modal-body" id="ModalBody">
      </div>
      <div class="modal-footer" id="ModalFooter">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>
{% include menu.html %}
<div class="row">
  <div class="col-12">
    <button type="button" class="btn btn-secondary btn-sm" id="pauseButton">
      <i class="fa fa-pause"></i> Pause
    </button>
    <img id="loadingIndicator" src="/images/ring-alt.svg" class="fa-fw">
    <button type="button" class="btn btn-secondary btn-sm d-none" id="resumeButton"><i class="fa fa-play"></i> Resume</button>
    <button type="button" class="btn btn-danger btn-sm d-none" id="killButton"><i class="fa fa-stop"></i> Terminate</button>
  </div>
</div>
<div class="row">
  <div class="col-12">
    <table id="tableActivity" class="table-activity table table-sm table-striped small"></table>
  </div>
</div>

<script src="/js/highlightjs/highlight.pack.js"></script>
<script src="/js/datatables/datatables.min.js"></script>
<script src="/js/activity/temboard.activity.js"></script>
<script>
var xsession = "{{xsession}}";
var agent_address = "{{instance.agent_address}}";
var agent_port = "{{instance.agent_port}}";
var activityMode = "{{mode}}";
</script>

{% end %}
